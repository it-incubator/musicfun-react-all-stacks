<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Musicfun</title>
    <!-- SPA redirect handler for GitHub Pages -->
    <script>
      (function() {
        var redirect = sessionStorage.redirect;
        delete sessionStorage.redirect;
        if (redirect && redirect !== location.href) {
          history.replaceState(null, null, redirect);
        }

        // Check for spa_redirect query parameter
        var searchParams = new URLSearchParams(window.location.search);
        var spaRedirect = searchParams.get('spa_redirect');
        if (spaRedirect) {
          searchParams.delete('spa_redirect');
          var newSearch = searchParams.toString();
          var newUrl = decodeURIComponent(spaRedirect);
          sessionStorage.redirect = newUrl;
          window.location.replace(window.location.pathname + (newSearch ? '?' + newSearch : ''));
        }
      })();
    </script>
  </head>
  <body>
    <div id="root">
      <svg width="40" height="40" viewBox="0 0 40 40" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        <style>
            @keyframes bounce {
                0%, 100% { transform: scaleY(0.3); }
                50% { transform: scaleY(1); }
            }
            .bar { animation: bounce 0.8s ease-in-out infinite; transform-origin: bottom; }
            .bar:nth-child(2) { animation-delay: 0.1s; }
            .bar:nth-child(3) { animation-delay: 0.2s; }
            .bar:nth-child(4) { animation-delay: 0.3s; }
        </style>
        <rect class="bar" x="4" y="10" width="6" height="20" rx="3" fill="#8b5cf6"/>
        <rect class="bar" x="13" y="5" width="6" height="30" rx="3" fill="#a78bfa"/>
        <rect class="bar" x="22" y="8" width="6" height="24" rx="3" fill="#c4b5fd"/>
        <rect class="bar" x="31" y="12" width="6" height="16" rx="3" fill="#ddd6fe"/>
      </svg>
    </div>
    <script type="module" src="/src/app/entrypoint/main.tsx"></script>
  </body>
</html>
